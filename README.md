# BigData 
 - Загрузка стабильной версии API для работы с R скриптами в репозиторий
 - Загрузка стабильных R скриптов в репозиторий
 - Composer инициализирует поект и вытягивате зависимости 

    (проект готов к работе)

 - Обращение к скрипту 
 - Настройка пользователем параметров для обработки данных
 - Передача параметров R скрипту
 - Получение ответа от R скрипта
 - Вывод результата пользователю

# запуск сервера
- запускаем Rscript server.R передаем ему полный путь config.csv
    - Загрузка config
    - Подключение readData.R в котором считываються все параметры для доступа к базе данных и описаны функции для получения таблиц из базы.
    - Подключение скриптов которые будут возвращать данные для построения графиков
    - Подключение скриптов которые будут возвращать таблицы
    - Старт сервера
        - сервер принимает POST запрос с параметрами (scriptName, ...)
        - обработка запроса 
        - отправка ответа в Json формате

# структура папок
- bigData - rootdir
    - res - resourse(config, ...)
    - src - all scripts


# Документация к сервисным скриптам 
- server.R
	- Скрипт который запускает сервер по обработке запросов
	- Принимает через командную строку адрес config.csv
- readData.R
	- Скрипт в котором описаны функции получения и обработки данных из бызы
- decoder.R
	- Скрипт для парсинга RQL запроса
	- В начале определены константы которые отвечают за название логических и скалярных операторов 

# Документация к скриптам 
- plotPublishPrice.R
	- Имя отчета: гистограмма цены выставленных товаров
	- Принимает: бренд, номер категории, начальная дата, конечная дата 
	- Ось Х: логарифм по основанию 10 от цены товара
	- Ось У: доля выставленных товаров из данного ценового интервала среди всех выставленных
	- Возвращает: JSON вида {id,x*,y} *x-центры ценовых промежутков
- plotSoldPrice.R
    - Имя отчета: гистограмма цены проданых товаров
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: логарифм по основанию 10 от цены товара
    - Ось У: доля проданных товаров из данного ценового интервала среди всех проданных
    - Возвращает: JSON вида {id,x*,y} *x-центры ценовых промежутков
- plotProbPrice.R
    - Имя отчета: график вероятности продажи товара из заданной ценовой категории
    - Принимает: бренд, номер категории, начальную дата, конечная дата
    - Ось Х: логарифм по основанию 10 от цены товара
    - Ось У: Оценка вероятности продажи товара из данной ценовой категории
    - Возвращает: JSON вида {id,x,y}
- plotProfPrice.R
    - Имя отчета: график прибыли от одного выставления товара из заданой ценовой категории
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: логарифм по основанию 10 от цены товара
    - Ось У: Оценка прибыли от одного выставления товара из заданой ценовой категории
    - Возвращает: JSON вида {id,x,y}
- plotPublishDay.R
    - Имя отчета: гистограмма количества выставлений по дням недели
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: день недели
    - Ось У: доля товаров которые были выставленый в данный день недели среди всех выставленый товаров
    - Возвращает: JSON вида {id,x,y}
- plotSoldDay.R
    - Имя отчета: гистограмма количества породаж в зависимости от дня выставления
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: день недели
    - Ось У: доля проданых товаров которые были выставлены в данный день недели среди всех проданых товаров
    - Возвращает: JSON вида {id,x,y}
- plotProbDay.R
    - Имя отчета: график вероятности продажи товара выставленного в заданый день недели
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: день недели
    - Ось У: оценка вероятности продажи товара выставленного в заданный день недели
    - Возвращает: JSON вида {id,x,y}
- plotCreatedDay.R
    - Имя отчета: гистограмма количества продаж в каждый день недели 
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: день недели
    - Ось У: доля товаров проданых в данный день среди всех проданых товаров
    - Возвращает: JSON вида {id,x,y}
- plotPublishTime.R
    - Имя отчета: гистограмма количества выставлений в каждый часв течении дня
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: время суток(час)
    - Ось У: доля выставленых в заданый чвс товаров среди все выставленых товаров
    - Возвращает: JSON вида {id,x,y}
- plotSoldTime.R
    - Имя отчета: гистограмма количества проданных товаров выставленых в заданое время
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: время суток(час)
    - Ось У: доля проданных товаров которые были выставлены в заданое время среди всех проданных товаров
    - Возвращает: JSON вида {id,x,y}
- plotProbTime.R
    - Имя отчета: график вероятности продажи товара выставленного в заданое время суток
    - Принимает: бредн, намер категории, начальная дата, конечная дата
    - Ось Х: время суток(час)
    - Ось У: Оценка вероятности продажи товара выставленого заданое время суток
    - Возвращает: JSON вида {id,x,y}
- plotCreatedTime.R
    - Имя отчета: гистограмма количетва продаж в каждый час дня
    - Принимает бренд, номер категории, начальная дата, конечна дата
    - Ось Х: время суток(час)
    - Ось У: доля продынных товаров в заданое время суток среди всех проданных товаров
    - Возвращает: JSON вида {id,x,y}
- plotCreatedTimeWithTZ.R
    - Имя отчета: гистограмма количества продаж в каждый час дня с учетом часовых почсов
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Ось Х: время суток в штате где выло куплено товар
    - Ось У: доля продынных товаров в заданое время суток среди всех проданных товаров с учетом часовых поясов
    - Возвращает: JSON вида {id,x,y}
- tableCategoryPrice.R
    - Имя отчета: таблица частот по ценовым категориям товаров
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Столбцы: 
    - Возвращает: таблицу с задаными столбцами
- tableCategoryID.R
    - Имя отчета: таблица частот по категориям товаров
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Столбцы: 
    - Возвращает: таблицу с задаными столбцами
- tableProduct.R
    - Имя отчета: таблица частот по отдельным товарам
    - Принимает: бренд, номер категории, начальная дата, конечная дата
    - Столбцы: 
    - Возвращает: таблицу с задаными столбцами
- tableModel.R
- tableProductModel.R
- getBrand.R
- getCategory.R
